<!doctype html>
<html lang="en" class="antialiased">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
            {% block title %}{{ title }} - Kenneth Reitz{% endblock %}
        </title>

        <!-- Load Google Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Crimson+Text:ital,wght@0,400;0,600;1,400;1,600&family=JetBrains+Mono:wght@400;500;600&display=swap"
            rel="stylesheet"
        />

        <!-- Load Tufte CSS -->
        <link rel="stylesheet" href="/static/et-book.css" />
        <link rel="stylesheet" href="/static/tufte/tufte.css" />
        <link rel="stylesheet" href="/static/custom-tufte.css" />

        <!-- Load Tailwind CSS -->
        <script src="https://cdn.tailwindcss.com"></script>
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            heroku: {
                                50: "#f8f7fd",
                                100: "#f0eef9",
                                200: "#e3e0f4",
                                300: "#d0c8ec",
                                400: "#b5a7e0",
                                500: "#9b86d3",
                                600: "#8265c4",
                                700: "#6f52b0",
                                800: "#5c4394",
                                900: "#4e3979",
                                950: "#3a2b5c",
                            },
                            primary: {
                                DEFAULT: "#4e3979",
                                50: "#f8f7fd",
                                100: "#f0eef9",
                                200: "#e3e0f4",
                                300: "#d0c8ec",
                                400: "#b5a7e0",
                                500: "#9b86d3",
                                600: "#8265c4",
                                700: "#6f52b0",
                                800: "#5c4394",
                                900: "#4e3979",
                                950: "#3a2b5c",
                            },
                        },
                        fontFamily: {
                            sans: [
                                "Inter",
                                "system-ui",
                                "-apple-system",
                                "BlinkMacSystemFont",
                                "Segoe UI",
                                "Roboto",
                                "sans-serif",
                            ],
                            serif: [
                                "Crimson Text",
                                "Charter",
                                "Georgia",
                                "Times New Roman",
                                "serif",
                            ],
                            mono: [
                                "JetBrains Mono",
                                "Fira Code",
                                "SF Mono",
                                "Consolas",
                                "monospace",
                            ],
                        },
                    },
                },
            };
        </script>

        <!-- Global Sacred Geometry Styles -->
        <style>
            .global-sacred-geometry {
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                pointer-events: none;
                z-index: -10;
                opacity: 0.03;
            }
            
            .sacred-layer-1 {
                animation: rotate-cosmic 180s linear infinite;
            }
            
            .sacred-layer-2 {
                animation: rotate-cosmic-reverse 120s linear infinite reverse;
            }
            
            .sacred-layer-3 {
                animation: breathe-universe 20s ease-in-out infinite alternate;
            }
            
            .sacred-layer-4 {
                animation: spiral-infinity 90s linear infinite;
            }
            
            .sacred-layer-5 {
                animation: pulse-chakra 15s ease-in-out infinite;
            }
            
            @keyframes rotate-cosmic {
                from { transform: rotate(0deg) scale(1); }
                to { transform: rotate(360deg) scale(1.02); }
            }
            
            @keyframes rotate-cosmic-reverse {
                from { transform: rotate(0deg) scale(1); }
                to { transform: rotate(-360deg) scale(0.98); }
            }
            
            @keyframes breathe-universe {
                from { opacity: 0.02; transform: scale(0.9); }
                to { opacity: 0.06; transform: scale(1.1); }
            }
            
            @keyframes spiral-infinity {
                from { transform: rotate(0deg) translateX(10px) rotate(0deg); }
                to { transform: rotate(360deg) translateX(10px) rotate(-360deg); }
            }
            
            @keyframes pulse-chakra {
                0%, 100% { opacity: 0.01; transform: scale(0.95); }
                25% { opacity: 0.04; transform: scale(1.05); }
                50% { opacity: 0.02; transform: scale(1); }
                75% { opacity: 0.05; transform: scale(1.08); }
            }
            
            .floating-sacred {
                position: fixed;
                pointer-events: none;
                z-index: -5;
                opacity: 0.02;
            }
            
            .float-1 {
                top: 10%;
                left: 5%;
                animation: float-sacred 30s ease-in-out infinite;
            }
            
            .float-2 {
                top: 20%;
                right: 8%;
                animation: float-sacred 45s ease-in-out infinite reverse;
            }
            
            .float-3 {
                bottom: 15%;
                left: 10%;
                animation: float-sacred 35s ease-in-out infinite;
            }
            
            .float-4 {
                bottom: 25%;
                right: 5%;
                animation: float-sacred 40s ease-in-out infinite reverse;
            }
            
            .float-5 {
                top: 50%;
                left: 2%;
                animation: float-sacred 50s ease-in-out infinite;
            }
            
            .float-6 {
                top: 60%;
                right: 3%;
                animation: float-sacred 25s ease-in-out infinite reverse;
            }
            
            @keyframes float-sacred {
                0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); opacity: 0.01; }
                25% { transform: translateY(-20px) rotate(90deg) scale(1.1); opacity: 0.04; }
                50% { transform: translateY(-10px) rotate(180deg) scale(0.9); opacity: 0.02; }
                75% { transform: translateY(-30px) rotate(270deg) scale(1.05); opacity: 0.03; }
            }
            
            .scroll-sacred {
                position: absolute;
                pointer-events: none;
                opacity: 0.015;
                animation: scroll-drift 60s linear infinite;
            }
            
            @keyframes scroll-drift {
                from { transform: translateY(100vh) rotate(0deg); }
                to { transform: translateY(-100px) rotate(360deg); }
            }
            
            /* Responsive Sacred Geometry */
            @media (max-width: 768px) {
                .global-sacred-geometry {
                    opacity: 0.02;
                }
                .floating-sacred {
                    opacity: 0.015;
                }
                .float-1, .float-3, .float-5 { display: none; }
            }
            
            @media (max-width: 480px) {
                .global-sacred-geometry {
                    opacity: 0.01;
                }
                .floating-sacred {
                    opacity: 0.01;
                }
            }
            
            /* Mouse interaction effects */
            .cosmic-cursor {
                position: fixed;
                width: 100px;
                height: 100px;
                pointer-events: none;
                z-index: -8;
                opacity: 0;
                transition: opacity 0.3s ease;
            }
            
            body:hover .cosmic-cursor {
                opacity: 0.02;
                animation: cursor-mandala 10s linear infinite;
            }
            
            @keyframes cursor-mandala {
                from { transform: rotate(0deg) scale(0.5); }
                to { transform: rotate(360deg) scale(1.2); }
            }
            
            /* Scroll-triggered sacred geometry */
            .scroll-triggered {
                opacity: 0.01;
                transition: opacity 1s ease;
            }
            
            .scroll-triggered.visible {
                opacity: 0.04;
            }
        </style>

        {% block extra_head %}{% endblock %}
    </head>
    <body
        class="bg-gray-900 font-serif text-gray-100 selection:bg-primary-700 selection:text-white tufte dark-mode"
        id="tufte-body"
    >
        <!-- Global Sacred Geometry Background -->
        <div class="global-sacred-geometry">
            <!-- Layer 1: Cosmic Mandala -->
            <svg class="sacred-layer-1" width="100%" height="100%" viewBox="0 0 1920 1080" xmlns="http://www.w3.org/2000/svg">
                <!-- Flower of Life - Universal Pattern -->
                <g stroke="#667eea" stroke-width="0.8" fill="none" opacity="0.6">
                    <circle cx="960" cy="540" r="120"/>
                    <circle cx="960" cy="420" r="120"/>
                    <circle cx="960" cy="660" r="120"/>
                    <circle cx="860" cy="480" r="120"/>
                    <circle cx="1060" cy="480" r="120"/>
                    <circle cx="860" cy="600" r="120"/>
                    <circle cx="1060" cy="600" r="120"/>
                    <circle cx="760" cy="540" r="120"/>
                    <circle cx="1160" cy="540" r="120"/>
                </g>
                
                <!-- Sacred Hexagonal Grid -->
                <g stroke="#764ba2" stroke-width="0.6" fill="none" opacity="0.4">
                    <polygon points="960,300 1120,390 1120,570 960,660 800,570 800,390"/>
                    <polygon points="960,150 1200,270 1200,630 960,750 720,630 720,270"/>
                    <polygon points="480,270 640,360 640,540 480,630 320,540 320,360"/>
                    <polygon points="1440,270 1600,360 1600,540 1440,630 1280,540 1280,360"/>
                </g>
            </svg>
            
            <!-- Layer 2: Fibonacci Spirals -->
            <svg class="sacred-layer-2" width="100%" height="100%" viewBox="0 0 1920 1080" xmlns="http://www.w3.org/2000/svg">
                <g stroke="#8b5cf6" stroke-width="1" fill="none" opacity="0.3">
                    <!-- Golden Ratio Spirals -->
                    <path d="M 960 540 Q 1160 340 1360 540 Q 1160 740 960 540"/>
                    <path d="M 960 540 Q 760 740 560 540 Q 760 340 960 540"/>
                    <path d="M 480 270 Q 580 170 680 270 Q 580 370 480 270"/>
                    <path d="M 1440 270 Q 1540 170 1640 270 Q 1540 370 1440 270"/>
                    
                    <!-- Fibonacci Circles -->
                    <circle cx="960" cy="540" r="21"/>
                    <circle cx="960" cy="540" r="34"/>
                    <circle cx="960" cy="540" r="55"/>
                    <circle cx="960" cy="540" r="89"/>
                    <circle cx="960" cy="540" r="144"/>
                    <circle cx="960" cy="540" r="233"/>
                </g>
            </svg>
            
            <!-- Layer 3: Merkaba & Platonic Solids -->
            <svg class="sacred-layer-3" width="100%" height="100%" viewBox="0 0 1920 1080" xmlns="http://www.w3.org/2000/svg">
                <g stroke="#10b981" stroke-width="1.2" fill="none" opacity="0.5">
                    <!-- Merkaba (Star Tetrahedron) -->
                    <polygon points="960,400 1100,540 820,540"/>
                    <polygon points="960,680 820,540 1100,540"/>
                    <polygon points="900,460 1020,460 960,360"/>
                    <polygon points="900,620 960,720 1020,620"/>
                    
                    <!-- Corner Merkabas -->
                    <polygon points="240,180 320,240 160,240"/>
                    <polygon points="240,300 160,240 320,240"/>
                    <polygon points="1680,180 1760,240 1600,240"/>
                    <polygon points="1680,300 1600,240 1760,240"/>
                    <polygon points="240,780 320,840 160,840"/>
                    <polygon points="240,900 160,840 320,840"/>
                    <polygon points="1680,780 1760,840 1600,840"/>
                    <polygon points="1680,900 1600,840 1760,840"/>
                </g>
            </svg>
            
            <!-- Layer 4: Seed of Life & Sacred Circles -->
            <svg class="sacred-layer-4" width="100%" height="100%" viewBox="0 0 1920 1080" xmlns="http://www.w3.org/2000/svg">
                <g stroke="#06d6a0" stroke-width="0.8" fill="none" opacity="0.4">
                    <!-- Seed of Life Pattern -->
                    <circle cx="960" cy="540" r="60"/>
                    <circle cx="960" cy="480" r="60"/>
                    <circle cx="1012" cy="510" r="60"/>
                    <circle cx="1012" cy="570" r="60"/>
                    <circle cx="960" cy="600" r="60"/>
                    <circle cx="908" cy="570" r="60"/>
                    <circle cx="908" cy="510" r="60"/>
                    
                    <!-- Distributed Sacred Circles -->
                    <circle cx="480" cy="270" r="40"/>
                    <circle cx="1440" cy="270" r="40"/>
                    <circle cx="480" cy="810" r="40"/>
                    <circle cx="1440" cy="810" r="40"/>
                    <circle cx="200" cy="540" r="30"/>
                    <circle cx="1720" cy="540" r="30"/>
                </g>
            </svg>
            
            <!-- Layer 5: Lotus Petals & Chakra Wheels -->
            <svg class="sacred-layer-5" width="100%" height="100%" viewBox="0 0 1920 1080" xmlns="http://www.w3.org/2000/svg">
                <g stroke="#ec4899" stroke-width="0.6" fill="rgba(236, 72, 153, 0.05)" opacity="0.6">
                    <!-- Central Lotus -->
                    <ellipse cx="960" cy="390" rx="30" ry="90" transform="rotate(0 960 540)"/>
                    <ellipse cx="960" cy="390" rx="30" ry="90" transform="rotate(30 960 540)"/>
                    <ellipse cx="960" cy="390" rx="30" ry="90" transform="rotate(60 960 540)"/>
                    <ellipse cx="960" cy="390" rx="30" ry="90" transform="rotate(90 960 540)"/>
                    <ellipse cx="960" cy="390" rx="30" ry="90" transform="rotate(120 960 540)"/>
                    <ellipse cx="960" cy="390" rx="30" ry="90" transform="rotate(150 960 540)"/>
                    <ellipse cx="960" cy="390" rx="30" ry="90" transform="rotate(180 960 540)"/>
                    <ellipse cx="960" cy="390" rx="30" ry="90" transform="rotate(210 960 540)"/>
                    <ellipse cx="960" cy="390" rx="30" ry="90" transform="rotate(240 960 540)"/>
                    <ellipse cx="960" cy="390" rx="30" ry="90" transform="rotate(270 960 540)"/>
                    <ellipse cx="960" cy="390" rx="30" ry="90" transform="rotate(300 960 540)"/>
                    <ellipse cx="960" cy="390" rx="30" ry="90" transform="rotate(330 960 540)"/>
                    
                    <!-- Corner Lotus Flowers -->
                    <ellipse cx="240" cy="180" rx="15" ry="45" transform="rotate(0 240 240)"/>
                    <ellipse cx="240" cy="180" rx="15" ry="45" transform="rotate(60 240 240)"/>
                    <ellipse cx="240" cy="180" rx="15" ry="45" transform="rotate(120 240 240)"/>
                    <ellipse cx="1680" cy="180" rx="15" ry="45" transform="rotate(0 1680 240)"/>
                    <ellipse cx="1680" cy="180" rx="15" ry="45" transform="rotate(60 1680 240)"/>
                    <ellipse cx="1680" cy="180" rx="15" ry="45" transform="rotate(120 1680 240)"/>
                    <ellipse cx="240" cy="900" rx="15" ry="45" transform="rotate(0 240 840)"/>
                    <ellipse cx="240" cy="900" rx="15" ry="45" transform="rotate(60 240 840)"/>
                    <ellipse cx="240" cy="900" rx="15" ry="45" transform="rotate(120 240 840)"/>
                    <ellipse cx="1680" cy="900" rx="15" ry="45" transform="rotate(0 1680 840)"/>
                    <ellipse cx="1680" cy="900" rx="15" ry="45" transform="rotate(60 1680 840)"/>
                    <ellipse cx="1680" cy="900" rx="15" ry="45" transform="rotate(120 1680 840)"/>
                </g>
                
                <!-- Central Om Symbol -->
                <g stroke="#fbbf24" stroke-width="1.5" fill="none" opacity="0.3">
                    <circle cx="960" cy="540" r="20"/>
                    <circle cx="960" cy="540" r="10"/>
                    <path d="M 940 540 Q 960 520 980 540 Q 960 560 940 540"/>
                </g>
            </svg>
            
            <!-- Floating Sacred Symbols -->
            <div class="floating-sacred float-1">
                <svg width="80" height="80" viewBox="0 0 80 80" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#667eea" stroke-width="1" fill="none">
                        <polygon points="40,10 70,40 40,70 10,40"/>
                        <circle cx="40" cy="40" r="15"/>
                    </g>
                </svg>
            </div>
            
            <div class="floating-sacred float-2">
                <svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#8b5cf6" stroke-width="1" fill="none">
                        <polygon points="30,5 55,30 30,55 5,30"/>
                        <polygon points="30,15 45,30 30,45 15,30"/>
                    </g>
                </svg>
            </div>
            
            <div class="floating-sacred float-3">
                <svg width="70" height="70" viewBox="0 0 70 70" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#10b981" stroke-width="1" fill="none">
                        <circle cx="35" cy="35" r="30"/>
                        <circle cx="35" cy="35" r="20"/>
                        <circle cx="35" cy="35" r="10"/>
                    </g>
                </svg>
            </div>
            
            <div class="floating-sacred float-4">
                <svg width="90" height="90" viewBox="0 0 90 90" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#ec4899" stroke-width="1" fill="none">
                        <polygon points="45,10 70,25 70,65 45,80 20,65 20,25"/>
                        <polygon points="45,20 60,30 60,60 45,70 30,60 30,30"/>
                    </g>
                </svg>
            </div>
            
            <div class="floating-sacred float-5">
                <svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#fbbf24" stroke-width="1" fill="none">
                        <polygon points="25,5 45,25 25,45 5,25"/>
                        <circle cx="25" cy="25" r="8"/>
                    </g>
                </svg>
            </div>
            
            <div class="floating-sacred float-6">
                <svg width="65" height="65" viewBox="0 0 65 65" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#06d6a0" stroke-width="1" fill="none">
                        <circle cx="32.5" cy="32.5" r="25"/>
                        <polygon points="32.5,7.5 57.5,32.5 32.5,57.5 7.5,32.5"/>
                    </g>
                </svg>
            </div>
            
            <!-- Scrolling Sacred Drift Elements -->
            <div class="scroll-sacred" style="left: 10%; animation-delay: 0s;">
                <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#764ba2" stroke-width="0.8" fill="none">
                        <polygon points="20,5 35,20 20,35 5,20"/>
                    </g>
                </svg>
            </div>
            
            <div class="scroll-sacred" style="right: 15%; animation-delay: -20s;">
                <svg width="35" height="35" viewBox="0 0 35 35" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#a855f7" stroke-width="0.8" fill="none">
                        <circle cx="17.5" cy="17.5" r="12"/>
                        <circle cx="17.5" cy="17.5" r="6"/>
                    </g>
                </svg>
            </div>
            
            <div class="scroll-sacred" style="left: 25%; animation-delay: -40s;">
                <svg width="45" height="45" viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#06b6d4" stroke-width="0.8" fill="none">
                        <polygon points="22.5,5 40,15 40,30 22.5,40 5,30 5,15"/>
                    </g>
                </svg>
            </div>
            
            <div class="scroll-sacred" style="right: 30%; animation-delay: -10s;">
                <svg width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#f59e0b" stroke-width="0.8" fill="none">
                        <polygon points="15,3 27,15 15,27 3,15"/>
                        <polygon points="15,9 21,15 15,21 9,15"/>
                    </g>
                </svg>
            </div>
            
            <div class="scroll-sacred" style="left: 70%; animation-delay: -30s;">
                <svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#ef4444" stroke-width="0.8" fill="none">
                        <circle cx="19" cy="19" r="15"/>
                        <polygon points="19,4 34,19 19,34 4,19"/>
                    </g>
                </svg>
            </div>
            
            <!-- Mouse Cursor Sacred Geometry -->
            <div class="cosmic-cursor" id="cosmic-cursor">
                <svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#667eea" stroke-width="0.5" fill="none">
                        <circle cx="50" cy="50" r="40"/>
                        <circle cx="50" cy="50" r="25"/>
                        <circle cx="50" cy="50" r="10"/>
                        <polygon points="50,10 85,50 50,90 15,50"/>
                    </g>
                </svg>
            </div>
            
            <!-- Scroll-triggered Sacred Elements -->
            <div class="scroll-triggered" style="position: fixed; top: 20%; left: 85%; z-index: -6;">
                <svg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#8b5cf6" stroke-width="1" fill="none">
                        <polygon points="30,5 55,30 30,55 5,30"/>
                        <circle cx="30" cy="30" r="15"/>
                    </g>
                </svg>
            </div>
            
            <div class="scroll-triggered" style="position: fixed; bottom: 30%; left: 5%; z-index: -6;">
                <svg width="70" height="70" viewBox="0 0 70 70" xmlns="http://www.w3.org/2000/svg">
                    <g stroke="#10b981" stroke-width="1" fill="none">
                        <polygon points="35,5 65,20 65,50 35,65 5,50 5,20"/>
                        <polygon points="35,15 55,25 55,45 35,55 15,45 15,25"/>
                    </g>
                </svg>
            </div>
        </div>
        
        <!-- Header -->
        <header
            class="border-b border-gray-700 bg-gray-900/90 backdrop-blur-xl sticky top-0 z-50 shadow-lg"
        >
            <div class="max-w-6xl mx-auto px-6 py-8">
                <div class="flex flex-col space-y-4">
                    <!-- Main brand -->
                    <div class="flex items-center justify-between">
                        <div>
                            <h1
                                class="text-5xl font-bold tracking-tight font-serif"
                            >
                                <a
                                    href="/"
                                    class="text-gray-100 hover:text-primary-400 transition-colors duration-200 no-underline font-serif bg-gradient-to-r from-primary-400 via-purple-400 to-pink-400 bg-clip-text text-transparent"
                                >
                                    Kenneth Reitz
                                </a>
                            </h1>
                        </div>

                        <!-- Mobile-friendly navigation -->
                        <nav class="hidden md:flex space-x-4">
                            <a
                                href="/directory"
                                class="text-sm font-medium text-gray-300 hover:text-primary-400 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-primary-900/30 border border-transparent hover:border-primary-500/30"
                            >
                                📁 Explore
                            </a>
                            <a
                                href="/poetry"
                                class="text-sm font-medium text-gray-300 hover:text-primary-400 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-primary-900/30 border border-transparent hover:border-primary-500/30"
                            >
                                📝 Poetry
                            </a>
                            <a
                                href="/artificial-intelligence"
                                class="text-sm font-medium text-gray-300 hover:text-primary-400 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-primary-900/30 border border-transparent hover:border-primary-500/30"
                            >
                                🤖 AI
                            </a>
                            <a
                                href="/talks"
                                class="text-sm font-medium text-gray-300 hover:text-primary-400 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-primary-900/30 border border-transparent hover:border-primary-500/30"
                            >
                                🎤 Talks
                            </a>
                            <a
                                href="/values"
                                class="text-sm font-medium text-gray-300 hover:text-primary-400 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-primary-900/30 border border-transparent hover:border-primary-500/30"
                            >
                                💎 Values
                            </a>
                        </nav>
                    </div>

                    <!-- Mobile navigation -->
                    <div class="flex md:hidden">
                        <!-- Mobile nav links -->
                        <nav class="flex flex-wrap gap-2">
                            <a
                                href="/directory"
                                class="text-xs font-medium text-gray-300 hover:text-primary-400 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-primary-900/30"
                            >
                                📁 Browse
                            </a>
                            <a
                                href="/poetry"
                                class="text-xs font-medium text-gray-300 hover:text-primary-400 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-primary-900/30"
                            >
                                📝 Poetry
                            </a>
                            <a
                                href="/artificial-intelligence"
                                class="text-xs font-medium text-gray-300 hover:text-primary-400 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-primary-900/30"
                            >
                                🤖 AI
                            </a>
                            <a
                                href="/talks"
                                class="text-xs font-medium text-gray-300 hover:text-primary-400 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-primary-900/30"
                            >
                                🎤 Talks
                            </a>
                            <a
                                href="/values"
                                class="text-xs font-medium text-gray-300 hover:text-primary-400 transition-all duration-300 px-3 py-2 rounded-lg hover:bg-primary-900/30"
                            >
                                💎 Values
                            </a>
                        </nav>
                    </div>
                </div>
            </div>
        </header>

        <!-- Breadcrumbs -->
        {% if breadcrumbs %}
        <nav
            class="max-w-4xl mx-auto px-6 py-4 text-sm text-gray-400 bg-gray-900/30 backdrop-blur-sm"
        >
            <div class="flex items-center space-x-2">
                <a
                    href="/"
                    class="hover:text-primary-400 transition-colors duration-200"
                    >Home</a
                >
                {% for crumb in breadcrumbs %}
                <span class="text-gray-600">›</span>
                <a
                    href="{{ crumb.url }}"
                    class="hover:text-primary-400 transition-colors duration-200"
                    >{{ crumb.name }}</a
                >
                {% endfor %} {% if current_page %}
                <span class="text-gray-600">›</span>
                <span class="text-gray-200 font-medium"
                    >{{ current_page }}</span
                >
                {% endif %}
            </div>
        </nav>
        {% endif %}

        <!-- Main Content -->
        <main
            class="max-w-4xl mx-auto px-6 py-8 tufte-content font-serif bg-gray-900/40 backdrop-blur-sm rounded-lg my-4"
        >
            {% block content %}{% endblock %}
        </main>

        <!-- Footer -->
        <footer class="border-t border-gray-800/60 mt-20">
            <div class="max-w-6xl mx-auto px-6 py-8 text-center">
                <p class="text-sm text-gray-500">
                    &copy; {{ current_year }} Kenneth Reitz
                </p>
            </div>
        </footer>

        <script src="/static/tufte-converter.js"></script>
        
        <!-- Sacred Geometry Interactive Script -->
        <script>
            // Mouse cursor sacred geometry
            document.addEventListener('mousemove', function(e) {
                const cursor = document.getElementById('cosmic-cursor');
                if (cursor) {
                    cursor.style.left = (e.clientX - 50) + 'px';
                    cursor.style.top = (e.clientY - 50) + 'px';
                }
            });
            
            // Scroll-triggered sacred geometry
            function checkScrollTriggers() {
                const scrollTriggered = document.querySelectorAll('.scroll-triggered');
                const scrollPosition = window.scrollY;
                const windowHeight = window.innerHeight;
                
                scrollTriggered.forEach(element => {
                    const elementTop = element.offsetTop;
                    if (scrollPosition + windowHeight > elementTop + 100) {
                        element.classList.add('visible');
                    }
                });
            }
            
            window.addEventListener('scroll', checkScrollTriggers);
            window.addEventListener('load', checkScrollTriggers);
            
            // Sacred geometry intensity based on time of day
            function adjustSacredIntensity() {
                const hour = new Date().getHours();
                const geometry = document.querySelector('.global-sacred-geometry');
                
                if (geometry) {
                    // More visible during "mystical hours" (dawn/dusk)
                    if (hour >= 5 && hour <= 7 || hour >= 17 && hour <= 19) {
                        geometry.style.opacity = '0.05';
                    } else if (hour >= 0 && hour <= 5 || hour >= 22) {
                        geometry.style.opacity = '0.04'; // Mystical night hours
                    } else {
                        geometry.style.opacity = '0.03'; // Regular hours
                    }
                }
            }
            
            adjustSacredIntensity();
            
            // Pulse sacred geometry on page focus
            window.addEventListener('focus', function() {
                document.querySelectorAll('.sacred-layer-5').forEach(layer => {
                    layer.style.animation = 'pulse-chakra 5s ease-in-out';
                    setTimeout(() => {
                        layer.style.animation = 'pulse-chakra 15s ease-in-out infinite';
                    }, 5000);
                });
            });
        </script>

        {% block extra_scripts %}{% endblock %}
    </body>
</html>
