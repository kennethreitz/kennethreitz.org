<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{% block title %}{{ title }} - Kenneth Reitz{% endblock %}</title>

        <!-- SEO and Meta -->
        <meta name="description" content="{% block description %}Kenneth Reitz - Creator of Requests and Certifi, trusted by millions of developers worldwide. Thoughts on technology, philosophy, and building software for humans.{% endblock %}" />
        <meta name="author" content="Kenneth Reitz" />

        <!-- OpenGraph -->
        <meta property="og:title" content="{% block og_title %}{{ title }} - Kenneth Reitz{% endblock %}" />
        <meta property="og:description" content="{% block og_description %}Creator of Requests and Certifi - libraries trusted by millions of developers worldwide{% endblock %}" />
        <meta property="og:type" content="{% block og_type %}website{% endblock %}" />
        <meta property="og:url" content="{% block og_url %}https://kennethreitz.org{% endblock %}" />

        <!-- Twitter Card -->
        <meta name="twitter:card" content="summary" />
        <meta name="twitter:creator" content="@kennethreitz" />
        <meta name="twitter:title" content="{% block twitter_title %}{{ title }} - Kenneth Reitz{% endblock %}" />
        <meta name="twitter:description" content="{% block twitter_description %}Creator of Requests and Certifi - libraries trusted by millions of developers worldwide{% endblock %}" />

        <!-- Tufte CSS -->
        <link rel="stylesheet" href="/static/tufte/tufte.css" />
        
        <style>
            /* Adjust content width for better sidenote spacing */
            section > p,
            section > footer,
            section > table,
            section > blockquote {
                width: 65%;
            }
            
            section > dl,
            section > ol,
            section > ul {
                width: 45%;
            }
            
            .sidenote,
            .marginnote {
                width: 45%;
                margin-right: -50%;
            }
            
            /* Responsive adjustments */
            @media (max-width: 1200px) {
                section > p,
                section > footer,
                section > table,
                section > blockquote {
                    width: 70%;
                }
                
                .sidenote,
                .marginnote {
                    width: 40%;
                    margin-right: -45%;
                }
            }
        </style>


        {% block extra_head %}{% endblock %}

        <!-- Analytics -->
        <script type="text/javascript">
          var _gauges = _gauges || [];
          (function() {
            var t   = document.createElement('script');
            t.type  = 'text/javascript';
            t.async = true;
            t.id    = 'gauges-tracker';
            t.setAttribute('data-site-id', '65529a9abd1a3b3101979d52');
            t.setAttribute('data-track-path', 'https://track.gaug.es/track.gif');
            t.src = 'https://d2fuc4clr7gvcn.cloudfront.net/track.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(t, s);
          })();
        </script>
    </head>
    <body>
        <article>
            <header>
                <nav>
                    <a href="/">Home</a>
                    <a href="/directory">Directory</a>
                    <a href="/software">Software</a>
                    <a href="/essays">Essays</a>
                    <a href="/talks">Talks</a>
                    <a href="/values">Values</a>
                </nav>
            </header>

            <main>
                {% block content %}{% endblock %}
            </main>

            <footer>
                <div class="footer-content">
                    <div class="footer-links">
                        <a href="https://github.com/kennethreitz" target="_blank">GitHub</a>
                        <a href="https://twitter.com/kennethreitz42" target="_blank">Twitter</a>
                        <a href="mailto:me@kennethreitz.org">Contact</a>
                        <a href="/sitemap">Sitemap</a>
                    </div>
                    <div class="footer-note">
                        <p>&copy; {{ "now"|strftime("%Y") }} Kenneth Reitz. Made with care and <a href="/essays/2025-01-note-from-ai">world-class typography</a>.</p>
                    </div>
                </div>
            </footer>
        </article>

        {% block extra_scripts %}{% endblock %}

        <!-- Dynamic Color System -->
        <script>
            (function() {
                const colorSchemes = [
                    'scheme-ocean',
                    'scheme-forest',
                    'scheme-sunset',
                    'scheme-lavender',
                    'scheme-rose',
                    'scheme-sage',
                    'scheme-amber',
                    'scheme-steel',
                    'scheme-wine',
                    'scheme-moss'
                ];

                // Get or generate a scheme based on the current page
                let scheme = localStorage.getItem('current-color-scheme');

                // Change scheme occasionally (20% chance on page load)
                if (!scheme || Math.random() < 0.2) {
                    scheme = colorSchemes[Math.floor(Math.random() * colorSchemes.length)];
                    localStorage.setItem('current-color-scheme', scheme);
                }

                // Apply the scheme
                document.body.className = (document.body.className + ' ' + scheme).trim();
            })();
        </script>
    </body>
</html>
